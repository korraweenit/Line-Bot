name: Daily Stock Alert üì¢

on:
  schedule:
    # ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏•‡∏∏‡∏Å (‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ UTC)
    # 00:00 UTC = 07:00 ‡πÄ‡∏ä‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÑ‡∏ó‡∏¢
    # ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ 8 ‡πÇ‡∏°‡∏á‡πÄ‡∏ä‡πâ‡∏≤‡πÑ‡∏ó‡∏¢ = 01:00 UTC
    - cron: '0 5 * * *' 
  
  # ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏£‡∏±‡∏ô‡πÄ‡∏≠‡∏á (‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡πÉ‡∏à‡∏£‡πâ‡∏≠‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏ó‡∏™)
  workflow_dispatch:
    inputs:
      stock_symbol:
        description: '‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ (‡πÄ‡∏ä‡πà‡∏ô AAPL)'
        required: false
        default: 'AMZN'

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: Install libraries
      run: |
        pip install -r requirements.txt

    - name: Run Bot Script
      env: 
        # ‡∏î‡∏∂‡∏á‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡∏à‡∏≤‡∏Å‡∏ï‡∏π‡πâ‡πÄ‡∏ã‡∏ü‡∏°‡∏≤‡πÉ‡∏ä‡πâ
        LINE_ACCESS_TOKEN: ${{ secrets.LINE_ACCESS_TOKEN }}
        MY_USER_ID: ${{ secrets.MY_USER_ID }}
      run: |
        python bot_on_cloud.py
